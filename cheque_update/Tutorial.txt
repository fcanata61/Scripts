====================================================================
üìñ TUTORIAL COMPLETO ‚Äì USO DO SCRIPT check_updates.sh
====================================================================

1) O QUE √â O SCRIPT
-------------------
O script check_updates.sh √© uma ferramenta em shell para usu√°rios de Linux From Scratch (LFS) ou sistemas derivados. 
Ele serve para:

- Verificar pacotes instalados e suas vers√µes.
- Comparar com a √∫ltima vers√£o dispon√≠vel no site oficial.
- Baixar automaticamente novas vers√µes quando dispon√≠veis.
- Organizar os pacotes por grupos (BASE, X11, DESKTOP, EXTRAS, etc).
- Gerar relat√≥rios de atualiza√ß√£o e manter um hist√≥rico.

Ele N√ÉO substitui um gerenciador de pacotes (apt, pacman, dnf), mas d√° um controle manual e transparente sobre atualiza√ß√µes.

--------------------------------------------------------------------

2) ESTRUTURA DE DIRET√ìRIOS
--------------------------
Escolha um diret√≥rio onde ficar√° o reposit√≥rio local, exemplo:

    ~/lfs_repo/

Dentro dele, o script e arquivos auxiliares ficar√£o assim:

    ~/lfs_repo/
     ‚îú‚îÄ‚îÄ check_updates.sh      # Script principal
     ‚îú‚îÄ‚îÄ packages.txt          # Lista de pacotes e grupos
     ‚îú‚îÄ‚îÄ update_report.txt     # Relat√≥rio da √∫ltima execu√ß√£o
     ‚îú‚îÄ‚îÄ history.log           # Hist√≥rico acumulado
     ‚îî‚îÄ‚îÄ updates/              # Pasta onde ficam os pacotes baixados
         ‚îú‚îÄ‚îÄ BASE/
         ‚îú‚îÄ‚îÄ X11/
         ‚îú‚îÄ‚îÄ DESKTOP/
         ‚îî‚îÄ‚îÄ EXTRAS/

Cada subpasta em "updates" ser√° criada automaticamente para separar os pacotes conforme o grupo.

--------------------------------------------------------------------

3) ARQUIVO packages.txt
-----------------------
O script l√™ este arquivo para saber:
- Nome do grupo (ex: BASE, X11, DESKTOP, EXTRAS)
- Nome do pacote
- Vers√£o instalada
- URL da p√°gina oficial onde ficam os pacotes

Formato esperado (separado por espa√ßos):

    BASE bash 5.2 https://ftp.gnu.org/gnu/bash/
    BASE gcc 13.2.0 https://ftp.gnu.org/gnu/gcc/gcc-13.2.0/
    X11 xorg-server 21.1.8 https://www.x.org/releases/individual/xserver/
    DESKTOP openbox 3.6.1 http://openbox.org/dist/openbox/
    EXTRAS vivaldi 6.1 https://downloads.vivaldi.com/stable/

- O primeiro campo √© o grupo.
- O segundo campo √© o nome do pacote (como aparece no arquivo fonte).
- O terceiro campo √© a vers√£o que voc√™ j√° instalou.
- O quarto campo √© a URL base onde o pacote pode ser encontrado.

IMPORTANTE: use URLs que listem os arquivos de vers√£o (diret√≥rios oficiais de download).

--------------------------------------------------------------------

4) INSTALA√á√ÉO DO SCRIPT
-----------------------
1. Acesse sua pasta de reposit√≥rio:

    mkdir -p ~/lfs_repo
    cd ~/lfs_repo

2. Crie o arquivo do script:

    nano check_updates.sh

3. Cole o c√≥digo do script (a vers√£o completa com suporte a grupos, cores, logs e --list).

4. D√™ permiss√£o de execu√ß√£o:

    chmod +x check_updates.sh

--------------------------------------------------------------------

5) COMO USAR
------------
- Verificar TODOS os grupos e pacotes:

    ./check_updates.sh

- Verificar apenas um grupo (exemplo: BASE):

    ./check_updates.sh BASE

- Listar todos os grupos dispon√≠veis no arquivo packages.txt:

    ./check_updates.sh --list

--------------------------------------------------------------------

6) ARQUIVOS DE SA√çDA
--------------------
- update_report.txt ‚Üí resumo da √∫ltima execu√ß√£o (o que foi atualizado, o que j√° estava atualizado).
- history.log ‚Üí log acumulado com data/hora de cada atualiza√ß√£o.
- packages.txt ‚Üí atualizado automaticamente com as novas vers√µes baixadas.
- updates/ ‚Üí armazena os pacotes baixados, separados por grupo.

--------------------------------------------------------------------

7) BOAS PR√ÅTICAS
----------------
- Sempre rode o script MANUALMENTE para ter controle das vers√µes.
- Fa√ßa backup do seu packages.txt periodicamente.
- Use --list para conferir grupos antes de filtrar.
- Rode sem argumentos de vez em quando para n√£o deixar nenhum grupo desatualizado.
- Se quiser s√≥ verificar sem baixar, pode ser implementada uma flag --dry-run (simula√ß√£o).

--------------------------------------------------------------------

8) RESUMO FINAL
---------------
- Voc√™ mant√©m o arquivo packages.txt como "fonte da verdade".
- O script l√™ esse arquivo, baixa p√°ginas oficiais, compara vers√µes, baixa novos pacotes e atualiza tudo.
- Controle 100% manual, sem depender de sistemas de pacotes autom√°ticos.
- Ideal para Linux From Scratch e sistemas que n√£o usam pacotes bin√°rios prontos.

====================================================================
FIM DO TUTORIAL
====================================================================
